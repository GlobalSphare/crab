"use strict";(self.webpackChunkisland_install_front=self.webpackChunkisland_install_front||[]).push([[893],{7577:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(7294);const l=function(e){return n.createElement("div",{className:"input-cmp-container"},n.createElement("div",{className:"input-cmp-content"},e.label?n.createElement("div",{className:"input-cmp-label"},n.createElement("label",{className:"input-label"},e.label)):null,n.createElement("div",{className:"input-context"},e.icon?n.createElement("div",{className:"input-cmp-icon"},n.createElement("span",{className:"iconfont ".concat(e.icon)})):null,n.createElement("input",{type:e.type||"text",className:"".concat(e.inputErr?"input-border-hl":""," input-cmp-input"),value:e.value,onChange:function(t){e.change&&e.change(t.target.value)},onBlur:blur,placeholder:e.placeholder||"请输入"}),e.inputErr?n.createElement("div",{className:"input-cmp-error"},n.createElement("p",null,e.inputErr)):null)))}},893:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(8390),l=a(7294),c=a(5977),r=a(4494),s=a(282),i=a(7577),o=a(9669),u=a.n(o),p=a(3411),m=a(5347);const d=(0,r.$j)((function(e){return e}))((0,c.EN)((function(e){var t=(0,l.useState)(""),a=(0,n.Z)(t,2),c=a[0],r=a[1],o=(0,l.useState)(""),d=(0,n.Z)(o,2),E=d[0],v=d[1],h=(0,l.useState)(""),f=(0,n.Z)(h,2),b=f[0],N=f[1],Z=(0,l.useState)(""),g=(0,n.Z)(Z,2),y=g[0],w=g[1];return l.createElement("div",{className:"page-container reset-container"},l.createElement("div",{className:"page-title"},l.createElement("p",null,"密码设置")),l.createElement("div",{className:"input-item"},l.createElement(i.Z,{type:"password",label:"原密码：",value:c,placeholder:"请输入原密码",change:function(e){v(""),r(e)},inputErr:E})),l.createElement("div",{className:"input-item"},l.createElement(i.Z,{type:"password",label:"新密码：",value:b,placeholder:"请输入新密码",change:function(e){w(""),N(e)},inputErr:y})),l.createElement("div",{className:"form-btn"},l.createElement(s.Z,{variant:"contained",className:"btn",color:"primary",onClick:function(){""!==c.trim()?""!==b.trim()?(console.log(c,"-----",b),p.Z.dispatch({type:m.br,val:!0}),u()({method:"POST",url:"/api/user/reset",data:{oldPassword:c,password:b}}).then((function(e){p.Z.dispatch({type:m.Sn,val:e.data.result||""}),p.Z.dispatch({type:m.br,val:!1}),0===e.data.code&&setTimeout((function(){sessionStorage.setItem("user",""),window.location.replace("/")}))})).catch((function(e){console.log("err===",e),p.Z.dispatch({type:m.br,val:!1})}))):w("请输入新密码"):v("请输入原密码")}},"保存")))})))}}]);