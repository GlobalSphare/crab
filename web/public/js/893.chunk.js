"use strict";(self.webpackChunkisland_install_front=self.webpackChunkisland_install_front||[]).push([[893],{7577:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(5671),r=n(3144),c=n(7326),l=n(136),o=n(2963),s=n(1120),i=n(7294);var u=function(e){(0,l.Z)(p,e);var t,n,u=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,s.Z)(t);if(n){var r=(0,s.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,o.Z)(this,e)});function p(e){var t;return(0,a.Z)(this,p),(t=u.call(this,e)).state={value:""},t.setValue=t.setValue.bind((0,c.Z)(t)),t}return(0,r.Z)(p,[{key:"change",value:function(e){this.setState({value:e.target.value}),this.props.change&&this.props.change(e.target.value)}},{key:"setValue",value:function(e){this.setState({value:e})}},{key:"render",value:function(){return i.createElement("div",{className:"input-cmp-container"},i.createElement("div",{className:"input-cmp-content"},this.props.label?i.createElement("div",{className:"input-cmp-label"},i.createElement("label",{className:"input-label"},this.props.label)):null,i.createElement("div",{className:"input-context"},this.props.icon?i.createElement("div",{className:"input-cmp-icon"},i.createElement("span",{className:"iconfont ".concat(this.props.icon)})):null,i.createElement("input",{type:this.props.type||"text",className:"".concat(this.props.inputErr?"input-border-hl":""," input-cmp-input"),value:this.state.value,onChange:this.change.bind(this),placeholder:this.props.placeholder||"请输入"}),this.props.inputErr?i.createElement("div",{className:"input-cmp-error"},i.createElement("p",null,this.props.inputErr)):null)))}}]),p}(i.Component)},893:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(8390),r=n(7294),c=n(5977),l=n(4494),o=n(282),s=n(7577),i=n(9669),u=n.n(i),p=n(3411),m=n(5347);const f=(0,l.$j)((function(e){return e}))((0,c.EN)((function(e){var t=(0,r.useState)(""),n=(0,a.Z)(t,2),c=n[0],l=n[1],i=(0,r.useState)(""),f=(0,a.Z)(i,2),h=f[0],d=f[1],v=(0,r.useState)(""),y=(0,a.Z)(v,2),E=y[0],b=y[1],Z=(0,r.useState)(""),g=(0,a.Z)(Z,2),N=g[0],w=g[1];return r.createElement("div",{className:"page-container reset-container"},r.createElement("div",{className:"page-title"},r.createElement("p",null,"密码设置")),r.createElement("div",{className:"input-item"},r.createElement(s.Z,{type:"password",label:"原密码：",value:c,placeholder:"请输入原密码",change:function(e){d(""),l(e)},inputErr:h})),r.createElement("div",{className:"input-item"},r.createElement(s.Z,{type:"password",label:"新密码：",value:E,placeholder:"请输入新密码",change:function(e){w(""),b(e)},inputErr:N})),r.createElement("div",{className:"form-btn"},r.createElement(o.Z,{variant:"contained",className:"btn",color:"primary",onClick:function(){""!==c.trim()?""!==E.trim()?(console.log(c,"-----",E),p.Z.dispatch({type:m.br,val:!0}),u()({method:"POST",url:"/api/user/reset",data:{oldPassword:c,password:E}}).then((function(e){p.Z.dispatch({type:m.Sn,val:e.data.result||""}),p.Z.dispatch({type:m.br,val:!1}),0===e.data.code&&setTimeout((function(){sessionStorage.setItem("user",""),window.location.replace("/")}))})).catch((function(e){console.log("err===",e),p.Z.dispatch({type:m.br,val:!1})}))):w("请输入新密码"):d("请输入原密码")}},"保存")))})))},1120:(e,t,n)=>{function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:()=>a})},136:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(9611);function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,a.Z)(e,t)}},2963:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(1002),r=n(7326);function c(e,t){return!t||"object"!==(0,a.Z)(t)&&"function"!=typeof t?(0,r.Z)(e):t}}}]);